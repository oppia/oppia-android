syntax = "proto3";

package model;

option java_package = "org.oppia.app.model";
option java_multiple_files = true;

message InteractionObject {
  oneof object {
    int32 int_value = 1;
    string string_value = 2;
    bool bool_value = 3;
    // repeated fields cannot be within a oneof so lists are
    // wrapped into this parameter.
    List list = 4;
    Graph graph = 5;
    ImageWithRegions image_with_regions = 6;
    LogicQuestion logic_question = 7;
  }
}

// Structure containing lists. Note we should fill only
// one of the fields in this message.
// We do not add a oneof here because repeated fields cannot be within a oneof.
message List {
  repeated string string_list = 1;
}

// Structure representing a graph object.
message Graph {
  repeated Vertex vertices = 1;
  repeated Edge edges = 2;
  bool is_labelled = 3;
  bool is_directed = 4;
  bool is_weighted = 5;
}

// Structure representing an image with regions interaction.
message ImageWithRegions {
  string image_path = 1;
  repeated Vertex labelled_regions = 2;
}

// Structure representing a logic question interaction.
message LogicQuestion {
  message LogicQuestionParam {
    string top_kind_name = 1;
    string top_operator_name = 2;
    List arguments = 3;
    List dummies = 4;
  }
  repeated LogicQuestionParam assumptions = 1;
  repeated LogicQuestionParam results = 2;
  string default_proof_string = 3;
}

// Structure representing a vertex for images or graphs.
message Vertex {
  int32 x = 1;
  int32 y = 2;
  string label = 3;
}

// Structure representing an edge for graphs.
message Edge {
  int32 source = 1;
  int32 destination = 2;
  int32 weight = 3;
}